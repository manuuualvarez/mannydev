generator client {
  provider = "prisma-client-js"
  output   = "../node_modules/.prisma/client"
}

datasource db {
  provider = "postgresql"
}

model User {
  id          String   @id @default(cuid())
  clerkUserId String   @unique @map("clerk_user_id")
  role        Role     @default(USER)
  createdAt   DateTime @default(now()) @map("created_at")
  updatedAt   DateTime @updatedAt @map("updated_at")

  @@map("users")
}

enum Role {
  USER
  ADMIN
  SUPER_ADMIN
}

model Service {
  id           String   @id @default(cuid())
  name         String
  slug         String   @unique
  description  String   @db.Text
  icon         String?
  order         Int      @default(0)
  isActive      Boolean  @default(true) @map("is_active")
  startingPrice Int?     @map("starting_price")
  translations  Json?    @db.JsonB
  createdAt    DateTime @default(now()) @map("created_at")
  updatedAt    DateTime @updatedAt @map("updated_at")

  @@map("services")
}

model BlogPost {
  id           String    @id @default(cuid())
  slug         String    @unique
  title        String
  excerpt      String?
  content      String    @db.Text
  coverImage   String?   @map("cover_image")
  seoMetadata  Json?     @map("seo_metadata")
  publishedAt  DateTime? @map("published_at")
  isPublished  Boolean   @default(false) @map("is_published")
  translations Json?     @db.JsonB
  createdAt    DateTime  @default(now()) @map("created_at")
  updatedAt    DateTime  @updatedAt @map("updated_at")

  @@map("blog_posts")
}

model Lead {
  id        String     @id @default(cuid())
  name      String
  email     String
  company   String?
  message   String     @db.Text
  status    LeadStatus @default(NEW)
  notes     String?    @db.Text
  createdAt DateTime   @default(now()) @map("created_at")
  updatedAt DateTime   @updatedAt @map("updated_at")

  @@map("leads")
}

enum LeadStatus {
  NEW
  CONTACTED
  QUALIFIED
  PROPOSAL
  WON
  LOST
}
